[gd_scene load_steps=17 format=2]

[ext_resource path="res://small.jpg" type="Texture" id=1]
[ext_resource path="res://Player.tscn" type="PackedScene" id=2]
[ext_resource path="res://3DShooter.gd" type="Script" id=3]
[ext_resource path="res://Enemy.tscn" type="PackedScene" id=4]
[ext_resource path="res://HealthPack.tscn" type="PackedScene" id=5]
[ext_resource path="res://Assets/photo-1531147646552-1eec68116469.jpg" type="Texture" id=7]

[sub_resource type="Shader" id=1]
code = "shader_type spatial;
uniform sampler2D dev_texture : hint_albedo;
void fragment(){
	vec2 tiling_uvs = UV * vec2(20.0,20.0);
	ALBEDO = texture(dev_texture,tiling_uvs).rgb;
}"

[sub_resource type="ShaderMaterial" id=2]
shader = SubResource( 1 )
shader_param/dev_texture = ExtResource( 1 )

[sub_resource type="CubeMesh" id=3]
material = SubResource( 2 )

[sub_resource type="PhysicsMaterial" id=10]
friction = 10.0

[sub_resource type="ConcavePolygonShape" id=4]
data = PoolVector3Array( -1, 1, 1, 1, 1, 1, -1, -1, 1, 1, 1, 1, 1, -1, 1, -1, -1, 1, 1, 1, -1, -1, 1, -1, 1, -1, -1, -1, 1, -1, -1, -1, -1, 1, -1, -1, 1, 1, 1, 1, 1, -1, 1, -1, 1, 1, 1, -1, 1, -1, -1, 1, -1, 1, -1, 1, -1, -1, 1, 1, -1, -1, -1, -1, 1, 1, -1, -1, 1, -1, -1, -1, 1, 1, 1, -1, 1, 1, 1, 1, -1, -1, 1, 1, -1, 1, -1, 1, 1, -1, -1, -1, 1, 1, -1, 1, -1, -1, -1, 1, -1, 1, 1, -1, -1, -1, -1, -1 )

[sub_resource type="CubeMesh" id=5]
material = SubResource( 2 )
size = Vector3( 2, 20, 20 )

[sub_resource type="ConcavePolygonShape" id=6]
data = PoolVector3Array( -1, 15, 10, 1, 15, 10, -1, -15, 10, 1, 15, 10, 1, -15, 10, -1, -15, 10, 1, 15, -10, -1, 15, -10, 1, -15, -10, -1, 15, -10, -1, -15, -10, 1, -15, -10, 1, 15, 10, 1, 15, -10, 1, -15, 10, 1, 15, -10, 1, -15, -10, 1, -15, 10, -1, 15, -10, -1, 15, 10, -1, -15, -10, -1, 15, 10, -1, -15, 10, -1, -15, -10, 1, 15, 10, -1, 15, 10, 1, 15, -10, -1, 15, 10, -1, 15, -10, 1, 15, -10, -1, -15, 10, 1, -15, 10, -1, -15, -10, 1, -15, 10, 1, -15, -10, -1, -15, -10 )

[sub_resource type="ConcavePolygonShape" id=9]
data = PoolVector3Array( -1, 10, 10, 1, 10, 10, -1, -10, 10, 1, 10, 10, 1, -10, 10, -1, -10, 10, 1, 10, -10, -1, 10, -10, 1, -10, -10, -1, 10, -10, -1, -10, -10, 1, -10, -10, 1, 10, 10, 1, 10, -10, 1, -10, 10, 1, 10, -10, 1, -10, -10, 1, -10, 10, -1, 10, -10, -1, 10, 10, -1, -10, -10, -1, 10, 10, -1, -10, 10, -1, -10, -10, 1, 10, 10, -1, 10, 10, 1, 10, -10, -1, 10, 10, -1, 10, -10, 1, 10, -10, -1, -10, 10, 1, -10, 10, -1, -10, -10, 1, -10, 10, 1, -10, -10, -1, -10, -10 )

[sub_resource type="PanoramaSky" id=7]
radiance_size = 5
panorama = ExtResource( 7 )

[sub_resource type="Environment" id=8]
background_mode = 2
background_sky = SubResource( 7 )
background_sky_custom_fov = 70.0
background_sky_orientation = Basis( 0.999944, -3.44626e-09, -0.0105765, 0, -1, 3.25841e-07, -0.0105765, -3.25823e-07, -0.999944 )
glow_enabled = true

[node name="3DShooter" type="Spatial"]
script = ExtResource( 3 )

[node name="WorldGeometry" type="Spatial" parent="."]

[node name="Floor" type="MeshInstance" parent="WorldGeometry"]
transform = Transform( 21.605, 0, 0, 0, 0.428481, 0, 0, 0, 34.1022, -0.00883675, -0.446826, 0.0582218 )
mesh = SubResource( 3 )
material/0 = null

[node name="StaticBody" type="StaticBody" parent="WorldGeometry/Floor"]
physics_material_override = SubResource( 10 )

[node name="CollisionShape" type="CollisionShape" parent="WorldGeometry/Floor/StaticBody"]
shape = SubResource( 4 )

[node name="Area" type="Area" parent="WorldGeometry/Floor"]

[node name="CollisionShape2" type="CollisionShape" parent="WorldGeometry/Floor/Area"]
shape = SubResource( 4 )

[node name="Wall" type="MeshInstance" parent="WorldGeometry"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -22.787, 8.96664, 23.5205 )
mesh = SubResource( 5 )
material/0 = null

[node name="StaticBody" type="StaticBody" parent="WorldGeometry/Wall"]

[node name="CollisionShape" type="CollisionShape" parent="WorldGeometry/Wall/StaticBody"]
shape = SubResource( 6 )

[node name="Wall2" type="MeshInstance" parent="WorldGeometry"]
transform = Transform( -4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -13.035, 8.96664, 34.265 )
mesh = SubResource( 5 )
material/0 = null

[node name="StaticBody" type="StaticBody" parent="WorldGeometry/Wall2"]

[node name="CollisionShape" type="CollisionShape" parent="WorldGeometry/Wall2/StaticBody"]
shape = SubResource( 6 )

[node name="Wall3" type="MeshInstance" parent="WorldGeometry"]
transform = Transform( 1.91069e-15, 4.37114e-08, 1, 1, -4.37114e-08, 0, 4.37114e-08, 1, -4.37114e-08, -13.035, 17.806, 24.1449 )
mesh = SubResource( 5 )
material/0 = null

[node name="StaticBody" type="StaticBody" parent="WorldGeometry/Wall3"]

[node name="CollisionShape" type="CollisionShape" parent="WorldGeometry/Wall3/StaticBody"]
shape = SubResource( 6 )

[node name="Wall4" type="MeshInstance" parent="WorldGeometry"]
transform = Transform( 5.57002e-09, -1.80629e-08, -0.432433, -0.413232, -0.127427, -1.78229e-14, 0.127427, -0.413232, 1.89023e-08, 8.26736, 0.214946, 36.6148 )
mesh = SubResource( 5 )
material/0 = null

[node name="StaticBody2" type="StaticBody" parent="WorldGeometry/Wall4"]

[node name="CollisionShape" type="CollisionShape" parent="WorldGeometry/Wall4/StaticBody2"]
shape = SubResource( 9 )

[node name="Wall5" type="MeshInstance" parent="WorldGeometry"]
transform = Transform( 2.51892e-09, -1.87337e-08, -0.432433, -0.428576, -0.0576258, -1.83383e-14, 0.0576258, -0.428576, 1.89023e-08, 8.26736, 2.04487, 44.9609 )
mesh = SubResource( 5 )
material/0 = null

[node name="StaticBody2" type="StaticBody" parent="WorldGeometry/Wall5"]

[node name="CollisionShape" type="CollisionShape" parent="WorldGeometry/Wall5/StaticBody2"]
shape = SubResource( 9 )

[node name="Wall6" type="MeshInstance" parent="WorldGeometry"]
transform = Transform( -1.73514e-10, -1.89014e-08, -0.432433, -0.432415, 0.00396993, -1.77114e-14, -0.00396993, -0.432415, 1.89023e-08, 8.26736, 2.5674, 53.3343 )
mesh = SubResource( 5 )
material/0 = null

[node name="StaticBody2" type="StaticBody" parent="WorldGeometry/Wall6"]

[node name="CollisionShape" type="CollisionShape" parent="WorldGeometry/Wall6/StaticBody2"]
shape = SubResource( 9 )

[node name="Player" parent="." instance=ExtResource( 2 )]

[node name="Enemy" parent="." instance=ExtResource( 4 )]
transform = Transform( 0.928499, 0, -0.371335, 0, 1, 0, 0.371335, 0, 0.928499, 11.5751, 2.37586, 0 )

[node name="DirectionalLight" type="DirectionalLight" parent="."]
transform = Transform( 1, 0, 0, 0, -0.331667, 0.943396, 0, -0.943396, -0.331667, 0, 31.47, -15.111 )
light_energy = 2.0
shadow_enabled = true

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource( 8 )

[node name="HealthPack" parent="." instance=ExtResource( 5 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -8.71875, 2.48274, 25.7653 )

[node name="HealthPack2" parent="." instance=ExtResource( 5 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -3.16889, 2.48274, 25.7653 )

[node name="Enemy2" parent="." instance=ExtResource( 4 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 9.53574, 3.26846, -11.6311 )
